---
layout: fr_reference
---

<div class="box">
  <h2>
    <span class="docs">
      <a target="new" href="http://git-scm.com/book/fr/Les-bases-de-Git-Travailler-avec-des-d%C3%A9p%C3%B4ts-distants">livre</a>
    </span>
    Partage et Mise à Jour de Projets
  </h2>
  <div class="block">
    <p>
      Git n'a pas de serveur central comme Subversion. Toutes les commandes
      jusqu'à présent ont été exécutées localement, actualisant seulement la base
      de données locale. Pour collaborer avec d'autres développeurs sous Git,
      vous devez mettre toutes ces données sur un serveur auquel les autres
      ont accès. Git rend cela possible en synchronisant vos données avec un
      autre dépôt. Il n'y a pas de réelle différence entre un serveur et un
      client—un dépôt Git est un dépôt Git et vous pouvez les synchroniser
      indifféremment entre eux facilement.
    </p>

    <p>Dès que vous avez un dépôt Git, que ce soit un que vous hébergez sur votre
      propre serveur, ou un dépôt hébergé chez un tiers comme GitHub, vous pouvez
      dire à Git soit de pousser toutes données que vous avez qui ne sont pas
      présentes sur le serveur distant, soit demander à Git de récupérer en local
      les différences depuis l'autre dépôt.
    </p>

    <p>Vous pouvez le faire quand vous êtes en ligne, cela n'a pas à être fait
      en même temps qu'un <code>commit</code> ou tout autre commande. Généralement
      vous ferez un certains nombres de validations localement, puis vous récupérerez
      les données depuis le dépôt partagé distant à partir duquel vous avez cloné
      le projet pour être à jour, puis vous pousserez vos modifications en ligne.</p>

    <p class="nutshell">
      <b>Pour résumer</b>, vous pouvez actualiser votre projet avec <code>git fetch</code>
      et partager vos modifications avec <code>git push</code>. Vous pouvez gérer vos
      dépôts distants avec <code>git remote</code>.
    </p>
  </div>
</div>

<div class="box">
  <h2>
    <span class="docs">
      <a target="new" href="http://git-scm.com/docs/git-remote">docs</a> &nbsp;
      <a target="new" href="http://git-scm.com/book/fr/Les-bases-de-Git-Travailler-avec-des-d%C3%A9p%C3%B4ts-distants#Afficher-les-dépôts-distants">livre</a>
    </span>
    <a name="remote">git remote</a>
    <span class="desc">liste, ajoute et supprime les alias de dépôts distants</span>
  </h2>

  <div class="block">

    <p>Contrairement aux systèmes de gestion de versions centralisés qui ont un client
      qui est très différent du serveur, les dépôts Git sont tout simplement équivalents
      et vous les synchronisez simplement entre eux. Cela simplifie la possibilité
      d'avoir plus d'un dépôt distant—vous pouvez en avoir certains en lecture seule
      ainsi que d'autres accessibles en écriture.</p>

    <p>Afin de ne pas avoir à donner l'URL complète d'un dépôt distant à chaque
      fois que vous désirez vous synchroniser avec, Git stocke un alias ou diminutif
      pour chaque URL de dépôt distant qui vous intéresse. Vous utilisez la commande
      <code>git remote</code> pour gérer cette liste de dépôts distants qui vous
      intéresse.</p>

    <h4 id="remote-list">
      git remote
      <small>liste vos alias distants</small>
    </h4>

    <p>Sans argument, Git va simplement vous afficher les alias de dépôt distants
      qu'ils stockent. Par défaut, si vous avez cloné le projet (par opposition
      à en créer un nouveau localement), Git va automatiquement ajouter l'URL
      de ce dépôt source que vous avez cloné sous le nom « origin ». SI vous exécutez
      la commande avec l'option <code>-v</code>, vous pouvez voir
      l'URL réelle de chaque alias.</p>

<pre>
<b>$ git remote</b>
origin
<b>$ git remote -v</b>
origin	git@github.com:github/git-reference.git (fetch)
origin	git@github.com:github/git-reference.git (push)
</pre>

      <p>Vous voyez l'URL ici en double car Git permet d'avoir des URLS
        différentes pour pousser et récupérer pour chaque dépôt au cas où
        vous vouliez utiliser des protocoles différents en lecture
        et en écriture.</p>

      <h4 id="remote-add">
        git remote add
        <small>ajoute un nouveau dépôt distant à votre projet</small>
      </h4>

      <p>Si vous voulez partager un dépôt créé localement, ou vous voulez
        récupérer les contributions depuis le dépôt d'un tiers—si vous voulez
        interagir de n'importe quelle manière avec un nouveau dépôt, le plus simple
        est généralement de l'ajouter comme dépôt distant. Vous faites cela en
        exécutant <code>git remote add [alias] [url]</code>. Cela ajoute
        l'<code>[url]</code> en local en tant que dépôt distant sous le nom
        <code>[alias]</code>.</p>

      <p>Par exemple, si nous voulons partager notre programme Hello World avec
        le reste du monde, nous pouvons créer un nouveau dépôt sur un serveur
        (utilisons Github comme exemple), vous devriez obtenir une URL,
        dans notre cas « git@github.com:schacon/hw.git ». Pour l'ajouter à notre
        projet afin de pouvoir y pousser et récupérer des mises à jour depuis celui-ci
        nous ferions :</p>

<pre>
<b>$ git remote</b>
<b>$ git remote add github git@github.com:schacon/hw.git</b>
<b>$ git remote -v</b>
github	git@github.com:schacon/hw.git (fetch)
github	git@github.com:schacon/hw.git (push)
</pre>

        <p>Tout comme la dénomination des branches, le nommage des alias de dépôts
          distants est arbitraire—tout comme « master » n'a aucune signification spéciale
          mais est très largement utilisé car <code>git init</code> le configure par défaut,
          « origin » est souvent utilisé comme nom de dépôt distant car
          <code>git clone</code> le configure par défaut comme URL source de clonage. Dans
          notre cas nous allons appeler ce dépôt distant « github », mais vous pourriez le
          nommer comme bon vous semblerait.
        </p>

        <h4 id="remote-remove">
          git remote rm
          <small>enlève un alias existant de dépôt distant</small>
        </h4>

        <p>Si vous avez besoin d'enlever un dépôt distant—vous ne l'utilisez plus, le projet
          n'existe plus, etc—vous pouvez l'enlever avec <code>git remote rm [alias]</code>.</p>

<pre>
<b>$ git remote -v</b>
github	git@github.com:schacon/hw.git (fetch)
github	git@github.com:schacon/hw.git (push)
<b>$ git remote add origin git://github.com/pjhyett/hw.git</b>
<b>$ git remote -v</b>
github	git@github.com:schacon/hw.git (fetch)
github	git@github.com:schacon/hw.git (push)
origin	git://github.com/pjhyett/hw.git (fetch)
origin	git://github.com/pjhyett/hw.git (push)
<b>$ git remote rm origin</b>
<b>$ git remote -v</b>
github	git@github.com:schacon/hw.git (fetch)
github	git@github.com:schacon/hw.git (push)
</pre>

          <h4 id="remote-rename">
            git remote rename [ancien-alias] [nouvel-alias]
            <small>renomme des alias de dépôt distant</small>
          </h4>

          <p>Si vous voulez renommer des alias de dépôt distant sans avoir à les supprimer puis les
            ajouter à nouveau vous pouvez le faire en exécutant
            <code>git remote rename [ancien-alias] [nouvel-alias]</code>. Cela va vous permettre
            de modifier le nom en cours d'utilisation du dépôt distant.</p>

<pre>
<b>$ git remote add github git@github.com:schacon/hw.git</b>
<b>$ git remote -v</b>
github	git@github.com:schacon/hw.git (fetch)
github	git@github.com:schacon/hw.git (push)
<b>$ git remote rename github origin</b>
<b>$ git remote -v</b>
origin	git@github.com:schacon/hw.git (fetch)
origin	git@github.com:schacon/hw.git (push)
</pre>

            <p class="nutshell">
              <b>Pour résumer</b>, avec <code>git remote</code> vous pouvez lister vos dépôts
              distants et toute URL que ce dépôt utilise. Vous pouvez utiliser
              <code>git remote add</code> pour ajouter de nouveaux dépôts distants,
              <code>git remote rm</code> pour en supprimer ou
              <code>git remote rename [ancien-alias] [nouvel-alias]</code> pour les renommer.
            </p>

            <h4 id="remote-update">
              git remote set-url
              <small>actualise une URL distante existante</small>
            </h4>

            <p>Si vous aviez besoin d'actualiser l'URL d'un dépôt distant, vous
              pouvez le faire avec la commande <code>git remote set-url</code>.
            </p>

<pre>
<b>$ git remote -v</b>
github	git@github.com:schacon/hw.git (fetch)
github	git@github.com:schacon/hw.git (push)
origin	git://github.com/pjhyett/hw.git (fetch)
origin	git://github.com/pjhyett/hw.git (push)
<b>$ git remote set-url origin git://github.com/github/git-reference.git</b>
<b>$ git remote -v</b>
github	git@github.com:schacon/hw.git (fetch)
github	git@github.com:schacon/hw.git (push)
origin	git://github.com/github/git-reference.git (fetch)
origin	git://github.com/github/git-reference.git (push)
</pre>

            <p>De plus, vous pouvez définir une URL différente pour pousser quand
              vous ajoutez le drapeau <code>--push</code>. Cela vous permet de récupérer
              depuis un dépôt mais de pousser vers un autre tout en leur donnant le
              même alias.
            </p>

<pre>
<b>$ git remote -v</b>
github	git@github.com:schacon/hw.git (fetch)
github	git@github.com:schacon/hw.git (push)
origin	git://github.com/github/git-reference.git (fetch)
origin	git://github.com/github/git-reference.git (push)
<b>$ git remote set-url --push origin git://github.com/pjhyett/hw.git</b>
<b>$ git remote -v</b>
github	git@github.com:schacon/hw.git (fetch)
github	git@github.com:schacon/hw.git (push)
origin	git://github.com/github/git-reference.git (fetch)
origin	git://github.com/pjhyett/hw.git (push)
</pre>

            <p>En interne, la commande <code>git remote set-url</code> exécute
              <code>git config remote</code>, mais avec l'avantage de vous signaler
              en retour toute erreur. <code>git config remote</code> d'un autre côté,
              va échouer en silence si vous avez mal tapé un argument ou une option
              pour ne rien définir au final.
            </p>

            <p>Par exemple, nous allons mettre à jour le dépôt distant <code>github</code>
              mais à la place y faire référence en tant que <code>guhflub</code> à chaque
              invocation.
            </p>

<pre>
<b>$ git remote -v</b>
github	git@github.com:schacon/hw.git (fetch)
github	git@github.com:schacon/hw.git (push)
origin	git://github.com/github/git-reference.git (fetch)
origin	git://github.com/github/git-reference.git (push)
<b>$ git config remote.guhflub git://github.com/mojombo/hw.git</b>
<b>$ git remote -v</b>
github	git@github.com:schacon/hw.git (fetch)
github	git@github.com:schacon/hw.git (push)
origin	git://github.com/github/git-reference.git (fetch)
origin	git://github.com/github/git-reference.git (push)
<b>$ git remote set-url guhflub git://github.com/mojombo/hw.git</b>
fatal: No such remote 'guhflub'
</pre>

            <p class="nutshell">
              <b>Pour résumer</b>, vous pouvez mettre à jour les emplacements de vos
              dépôts distants avec <code>git remote set-url</code>. Vous pouvez aussi définir des URLs
              différentes pour pousser et récupérer sous le même nom d'alias de dépôt distant.
            </p>

          </div>
        </div>

        <div class="box">
          <h2>
            <span class="docs">
              <a target="new" href="http://git-scm.com/docs/git-fetch">docs</a> &nbsp;
              <a target="new" href="http://git-scm.com/book/fr/Les-bases-de-Git-Travailler-avec-des-d%C3%A9p%C3%B4ts-distants#Récupérer-et-tirer-depuis-des-dépôts-distants">livre</a>
            </span>
            <a name="fetch">git fetch</a>
            <span class="desc">récupère de nouvelles branches et données depuis un dépôt distant</span>
          </h2>

          <br/>

          <h2>
            <span class="docs">
              <a target="new" href="http://git-scm.com/docs/git-pull">docs</a> &nbsp;
              <a target="new" href="http://git-scm.com/book/fr/Les-bases-de-Git-Travailler-avec-des-d%C3%A9p%C3%B4ts-distants#Récupérer-et-tirer-depuis-des-dépôts-distants">livre</a>
            </span>
            <a name="pull">git pull</a>
            <span class="desc">récupère depuis un dépôt distant et essaye de fusionner dans la branche courante</span>
          </h2>

          <div class="block">

            <p>Git a deux commandes pour se mettre à jour depuis un dépôt distant.
              <code>git fetch</code> va vous synchroniser avec un autre dépôt, récupérant
              en local tout donnée non présente en local et vous donnant des marqueurs sur où
              chaque branche sur ce dépôt distant en était au momemt de la synchronisation.
              Celles-ci sont appelées « branches distantes » et sont identiques aux branches locales
              mis à part que Git ne vous autorisera pas de les extraire—par contre, vous pouvez
              fusionner avec, les comparer à d'autres branches, exécuter des journaux d'historique
              dessus, etc. Vous faites toutes ces opérations en local une fois votre synchronisation
              faite.
            </p>

            <p>La seconde commande qui va récupérer en local des données et la commande
              <code>git pull</code>. Cette commande va concrètement exécuter <code>git fetch</code>
              immédiatemment suivi d'un <code>git merge</code> de la branche de ce dépôt distant
              qui est suivie par toute branche courante dans laquelle vous êtes. Exécuter les commandes
              <code>fetch</code> et <code>merge</code> séparément est source de moins de magie et
              et moins de problèmes, mais si vous aimez le principe de <code>pull</code>,
              vous pouvez le retrouver de manière plus détaillée dans la
              <a target="new" href="http://git-scm.com/docs/git-pull">documentation officielle</a>.
            </p>

            <p>Partant du principe que vous avez un dépôt distant fonctionnel et que vous voulez tirer
              en local des mises à jour, vous exécuteriez en premier <code>git fetch [alias]</code>
              pour dire à Git de récupérer en local toutes les données du dépôt que vous n'avez pas,
              puis vous exécuteriez <code>git merge [alias]/[branche]</code> pour fusionner dans la
              branche courante tout ce qu'il y de nouveau sur le serveur (par exemple si quelqu'un
              a poussé entretemps). Au final, si vous travailliez sur un projet Hello World avec
              plusieurs autres personnes et que vous vouliez récupérer toutes modifications qui
              ont été poussées depuis votre dernière connexion, vous feriez quelque chose comme :</p>

<pre>
<b>$ git fetch github</b>
remote: Counting objects: 4006, done.
remote: Compressing objects: 100% (1322/1322), done.
remote: Total 2783 (delta 1526), reused 2587 (delta 1387)
Receiving objects: 100% (2783/2783), 1.23 MiB | 10 KiB/s, done.
Resolving deltas: 100% (1526/1526), completed with 387 local objects.
From github.com:schacon/hw
   8e29b09..c7c5a10  master     -> github/master
   0709fdc..d4ccf73  c-langs    -> github/c-langs
   6684f82..ae06d2b  java       -> github/java
 * [new branch]      ada        -> github/ada
 * [new branch]      lisp       -> github/lisp
</pre>

              <p>Dans cet exemple nous pouvons voir que depuis notre dernière synchronisation
                avec le dépôt distant, cinq branches ont été créées ou mises à jour. Les
                branches « ada » et « lisp » sont nouvelles, alors que les branches « master »,
                « c-langs » et « java » ont été actualisées. Dans notre scénario exemple,
                les autres développeurs poussent leurs modifications dans des branches distantes
                pour revue avant d'être fusionnées dans « master ».
              </p>

              <p>Vous pouvez observer ce que Git met en place. La branche « master » sur le dépôt
                distant devient une branche appelée « github/master » en local. De cette manière
                vous pouvez fusionner la branche « master » de ce dépôt distant dans la branche locale
                « master » en exécutant <code>git merge github/master</code>. Ou vous pouvez voir
                quelles sont les nouvelles validations en exécutant <code>git log github/master ^master</code>.
                Si votre dépôt distant est nommé « origin » il sera plutôt nommé <code>origin/master</code>.
                Quasiment tout commande utilisable sur les branches locales est utilisable également
                sur les branches distantes.
              </p>

              <p>Si vous avez plus d'un dépôt distant, vous pouvez plutôt récupérer depuis un dépôt
                spécifique en exécutant <code>git fetch [alias]</code> ou vous pouvez dire à Git
                de se synchroniser avec tous les dépôts distants en exécutant <code>git fetch --all</code>.
              </p>

              <p class="nutshell">
                <b>Pour résumer</b>, vous exécutez <code>git fetch [alias]</code> pour synchroniser
                votre dépôt avec un dépôt distant, en récupérant toutes les données du dépôt
                distant qui ne sont pas référencées dans une branche locale pour les fusionner
                ou autre.
              </p>

            </div>

          </div>

          <div class="box">
            <h2>
              <span class="docs">
                <a target="new" href="http://git-scm.com/docs/git-push">docs</a> &nbsp;
                <a target="new" href="http://git-scm.com/book/fr/Les-bases-de-Git-Travailler-avec-des-d%C3%A9p%C3%B4ts-distants#Pousser-son-travail-sur-un-dépôt-distant">livre</a>
              </span>
              <a name="push">git push</a>
              <span class="desc">pousse vos nouvelles branches et données vers un dépôt distant</span>
            </h2>

            <div class="block">
              <p>Pour partager vos sympathiques validations avec d'autres, vous avez besoin de pousser
                vos modifications vers un dépôt distant. Pour cela, vous exécutez
                <code>git push [alias] [branche]</code>  qui va tenter de faire de votre [branche]
                une nouvelle [branche] sur le dépôt distant [alias]. Essayons de le faire en commençant
                par pousser notre branche « master » vers le dépôt distant « github » créé précédemment.</p>

<pre>
<b>$ git push github master</b>
Counting objects: 25, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (25/25), done.
Writing objects: 100% (25/25), 2.43 KiB, done.
Total 25 (delta 4), reused 0 (delta 0)
To git@github.com:schacon/hw.git
 * [new branch]      master -> master
</pre>

                <p>Plutôt simple. Désormais si quelqu'un clone ce dépôt il va obtenir exactement
                  toutes ses validations et tout son historique.</p>

                <p>Comment faire si vous avez une branche spécifique comme la branche « erlang »
                  créée précédemment et que vous vouliez just partager celle-ci ? Vous pouvez
                  uniquement pousser cette branche à la place.</p>

<pre>
<b>$ git push github erlang</b>
Counting objects: 7, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (6/6), done.
Writing objects: 100% (6/6), 652 bytes, done.
Total 6 (delta 1), reused 0 (delta 0)
To git@github.com:schacon/hw.git
 * [new branch]      erlang -> erlang
</pre>

                  <p>Désormais quand quelqu'un clonera ou récupérera depuis ce dépôt, elle aura
                    une branche « erlang » qu'elle pourra étudier et fusionner. Vous pouvez pousser
                    toute branche de cette manière vers n'importe quel dépôt distant auquel
                    vous avez accès en écriture. Si votre branche est déjà sur le serveur,
                    Git tentera de la mettre à jour, si elle n'est pas présente, Git l'ajoutera.</p>

                  <p>Le dernier problème courant que vous risquez de rencontrer en poussant vers
                    des branches distantes est dans le cas où quelqu'un pousse en même temps.
                    Si vous et une autre développeuse clone au même moment, vous créez chacun
                    vos validations, puis elle pousse et enfin vous essayez de pousser à votre tour,
                    Git va par défaut refuser que vous écrasiez ses modifications. Au lieu de ça,
                    Git va simplement exécuter un <code>git log</code> de la branche sur laquelle
                    vous essayez de pousser et s'assurer qu'il peut trouver l'extrémité courante
                    de la branche du serveur dans l'historique de ce que vous poussez. S'il ne
                    peut voir ce qu'il trouve sur le serveur dans votre historique, il en conclut
                    que vous n'êtes pas à jour et ne va pas accepter que vous poussiez. Pour bien
                    faire, vous devriez récupérer, fusionner puis pousser à nouveau—pour être sûr
                    de prendre ses modifications en compte.</p>

                  <p>Voici ce qui arrive lorsque vous essayez de pousser une branche vers une branche
                    distante qui a été mise à jour en même temps :</p>

<pre>
<b>$ git push github master</b>
To git@github.com:schacon/hw.git
 ! [rejected]        master -> master (non-fast-forward)
error: failed to push some refs to 'git@github.com:schacon/hw.git'
To prevent you from losing history, non-fast-forward updates were rejected
Merge the remote changes before pushing again.  See the 'Note about
fast-forwards' section of 'git push --help' for details.
</pre>

                    <p>Vous pouvez corriger cela en exécutant <code>git fetch github; git merge github/master</code>
                      puis en poussant à nouveau.
                    </p>

                    <p class="nutshell">
                      <b>Pour résumer</b>, vous exécutez <code>git push [alias] [branche]</code> pour actualiser
                      une branche distante avec vos modifications locales. Cela va prendre le contenu de
                      votre [branche] et le pousser pour en faire la [branche] sur le dépôt distant, si possible.
                      Si quelqu'un a poussé depuis la dernière fois que vous avez récupéré et mis à jour,
                      le serveur Git va refuser que vous poussiez tant que vous n'êtes pas à jour.
                    </p>

                  </div>
                </div>

                <p><a class="page-button next-page" href="/fr/inspect">Aller à Inspection et Comparaison &#187;</a></p>
